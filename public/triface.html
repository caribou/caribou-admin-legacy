<html>
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    <title>interface III</title>
    <link href="/favicon.ico" rel="icon" type="image/x-icon" />
    <script src="/js/easyXDM.js" type="text/javascript"></script>
    <script src="/js/json2.js" type="text/javascript"></script>
    <script src="/js/jquery.js" type="text/javascript"></script>
    <script src="/js/jquery.tmpl.js" type="text/javascript"></script>
    <script src="/js/underscore.js" type="text/javascript"></script>
    <script src="/js/amplify.store.js" type="text/javascript"></script>
    <script src="/js/history.adapter.jquery.js" type="text/javascript"></script>
    <script src="/js/history.js" type="text/javascript"></script>
    <script src="/js/sherpa.js" type="text/javascript"></script>
    <script src="/js/backbone.js" type="text/javascript"></script>
    <script src="/js/triface.js" type="text/javascript"></script>
    <script src="/js/admin.js" type="text/javascript"></script>
    <link href="/css/triface.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <div id="header"></div>
    <div id="container"></div>
  </body>
</html>

<script type="text/javascript">$(document).ready(triface.admin.init)</script>

<script id="contentMenu" type="text/x-jquery-tmpl">
  <div id="nav">
    <ul>
      {{each(i, choice) choices}}
      <li class="${choice.title} ${classes} ${chosen === choice.title ? 'selected' : ''}" onclick="triface.admin.nav.select('${choice.title}', '${choice.url}')">${choice.title}</li>
      {{/each}}
    </ul>
  </div>
</script>

<script id="contentRow" type="text/x-jquery-tmpl">
  {{each(i, heading) headings}}
  <td>${item[heading]}</td>
  {{/each}}
</script>

<script id="contentTable" type="text/x-jquery-tmpl">
  <div id="add" onclick="triface.go('/${modelname}/new')">add new ${modelname}</div>
  <table cellspacing=5>
    <thead>
      <tr>
        {{each(i, heading) headings}}
        <th>${heading}</th>
        {{/each}}
      </tr>
    </thead>
    <tbody>
      {{each(i, item) items}}
      <tr onclick="triface.go('/${modelname}/${item.id}')">
        {{tmpl({item: item, headings: headings}) "#contentRow"}}
      </tr>
      {{/each}}
    </tbody>
  </table>
</script>

<script id="contentDetail" type="text/x-jquery-tmpl">
  <div id="add" onclick="triface.go('/${model.name}/new')">add new ${model.name}</div>
  <div id="${model.name}" class="form">
    <form>
      <ul>
        {{each(i, field) model.fields}}
        <li>
          <label>${field.name}</label>
          <div class="field">
            {{tmpl(null, {field: field}) "#"+field.type+"Field"}}
          </div>
        </li>
        {{/each}}
      </ul>
      <div class="save" onclick="triface.save('${model.name}')">save</div>
    </form>
  </div>
</script>

<script id="booleanField" type="text/x-jquery-tmpl">
  <input type="checkbox" name="${model.name}[${$item.field.name}]" value="${item[$item.field.name]}" />
</script>

<script id="stringField" type="text/x-jquery-tmpl">
  <input type="text" name="${model.name}[${$item.field.name}]" value="${item[$item.field.name]}" />
</script>

<script id="integerField" type="text/x-jquery-tmpl">
  <input type="text" name="${model.name}[${$item.field.name}]" value="${item[$item.field.name]}" />
</script>

<script id="textField" type="text/x-jquery-tmpl">
  <textarea name="${model.name}[${$item.field.name}]">${item[$item.field.name]}</textarea>
</script>

<script id="timestampField" type="text/x-jquery-tmpl">
  <input type="text" name="${model.name}[${$item.field.name}]" value="${item[$item.field.name]}" />
</script>

<script id="collectionField" type="text/x-jquery-tmpl">
  <input type="text" name="${model.name}[${$item.field.name}]" value="${item[$item.field.name].length}" />
</script>

<script id="partField" type="text/x-jquery-tmpl">
  <input type="text" name="${model.name}[${$item.field.name}]" value="${item[$item.field.name]}" />
</script>

<script id="linkField" type="text/x-jquery-tmpl">
  <input type="text" name="${model.name}[${$item.field.name}]" value="${item[$item.field.name]}" />
</script>
